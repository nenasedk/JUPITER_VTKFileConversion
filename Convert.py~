import DATtoVTK 
cont = True
dv = DATtoVTK.DATtoVTK()
while cont:
    while True:
        userstr = raw_input("Simulation number: ")
        try :
            userin = int(userstr)     
        except ValueError:
            print("Simulation number must be an integer.")
        else :
            break
    
    dv.SetSimNumber(userin)


    while True:
        userstr = raw_input("\nNumber of mesh levels (including base level): ")
        try :
            userin = int(userstr)
        except ValueError:
            print("Number of mesh levels must be an integer.")
        else :
            break
    dv.SetLevel(userin)
        

    err = -1
    while(err<0):
        userstr = raw_input("\nEnter one of: density, energy, erad, opacity, potential, stheat, tau, taucell or velocity: ")
        err = dv.SetFeature(userstr)
    
    while True:
        userstr = raw_input("\nOrbital radius of planet in AU: ")
        try :
            userin = float(userstr)     
        except ValueError:
            print("Radius must be a valid float.")
        else :
            break      
    dv.SetRadius(userin)

    while True:
        userstr = raw_input("\nMass of star in solar units: ")
        try :
            userin = float(userstr)     
        except ValueError:
            print("Radius must be a valid float.")
        else :
            break
    dv.SetMass(userin)
    print('\n')
    # Setup Directories
    dv.SetupDirs()

    # Extract mesh and data, output to VTK binary file
    dv.GetCoordinates()
    dv.ConvertFiles()
    cont1 = True
    while cont1:
        userstr = raw_input("\nDo you want to convert another file? (y/n)")
        if userstr == 'y':
            cont = True
            cont1 = False
        elif userstr == 'n':
            cont = False
            cont1 = False
        else:
            print "Please enter y or n... "

print "Exiting..."
                
                
            
